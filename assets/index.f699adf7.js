import{r as M,o as c,c as d,a as n,b as C,w as S,p as O,d as A,e as x,u as k,f as T,g as Q,F as f,h as $,n as z,i as v,t as _,j as F,v as L,k as B,l as I,m as q,q as R,s as P,x as V,y as j,z as U,A as H}from"./vendor.28b31ee3.js";const G=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}};G();var w=(e,t)=>{const s=e.__vccOpts||e;for(const[u,o]of t)s[u]=o;return s};const K={},J=e=>(O("data-v-456e5dfe"),e=e(),A(),e),W={class:"vertical-layout"},Y=J(()=>n("h1",null,"Trivia",-1)),X=x(" Temporary route links: "),Z=x("Start"),ee=x("Question"),te=x("Result"),se={class:"middle"};function ne(e,t){const s=M("router-link"),u=M("router-view");return c(),d("div",W,[n("header",null,[Y,X,C(s,{to:"/"},{default:S(()=>[Z]),_:1}),C(s,{to:"/question"},{default:S(()=>[ee]),_:1}),C(s,{to:"/result"},{default:S(()=>[te]),_:1})]),n("main",se,[C(u)])])}var oe=w(K,[["render",ne],["__scopeId","data-v-456e5dfe"]]);const E=e=>(O("data-v-59b1ca90"),e=e(),A(),e),re={class:"root"},ie=E(()=>n("h2",null,"Trivia",-1)),ue=["onClick"],ce={class:"width-100"},ae=["onClick"],le=["value"],de=E(()=>n("br",null,null,-1)),_e=E(()=>n("input",{class:"input",type:"text",placeholder:"Username"},null,-1)),pe={setup(e){const t=k(),s=T(),u={any:"Any Category",9:"General Knowledge",10:"Entertainment: Books",11:"Entertainment: Film",12:"Entertainment: Music",13:"Entertainment: Musicals & Theatres",14:"Entertainment: Television",15:"Entertainment: Video Games",16:"Entertainment: Board Games",17:"Science & Nature",18:"Science: Computers",19:"Science: Mathematics",20:"Mythology",21:"Sports",22:"Geography",23:"History",24:"Politics",25:"Art",26:"Celebrities",27:"Animals",28:"Vehicles",29:"Entertainment: Comics",30:"Science: Gadgets",31:"Entertainment: Japanese Anime & Manga",32:"Entertainment: Cartoon & Animations"},o={easy:{name:"Easy",color:"green"},medium:{name:"Medium",color:"yellow"},hard:{name:"Hard",color:"red"}},r=Q(t.getters.getQuestionCategory),p=()=>{t.commit("setQuestionCategory",r),t.dispatch("fetchApiSessionToken"),t.dispatch("resetQuiz"),s.push({name:"question"})};return(h,y)=>(c(),d("div",re,[ie,n("div",null,[(c(),d(f,null,$(o,(a,m)=>n("button",{key:m,class:"button",style:z("background-color: "+a.color),onClick:b=>v(t).commit("setQuestionDifficulty",m)},_(a.name),13,ue)),64))]),n("div",ce,[(c(),d(f,null,$([5,10,15,20,25],a=>n("button",{class:"button",key:a,onClick:m=>v(t).commit("setQuestionsSelected",a)},_(a),9,ae)),64))]),F(n("select",{class:"input","onUpdate:modelValue":y[0]||(y[0]=a=>r.value=a)},[(c(),d(f,null,$(u,(a,m)=>n("option",{key:m,value:m},_(a),9,le)),64))],512),[[L,r.value]]),de,n("div",{class:"width-100"},[_e,n("button",{class:"button",type:"button",onClick:p},"Start")])]))}};var me=w(pe,[["__scopeId","data-v-59b1ca90"]]);const he=n("h1",null,"Start",-1),fe={setup(e){return(t,s)=>(c(),d(f,null,[he,C(me)],64))}},ye={},ve=n("h1",null,"404",-1),ge=n("p",null,"Not found",-1);function qe(e,t){return c(),d(f,null,[ve,ge],64)}var we=w(ye,[["render",qe]]);const Ce={class:"question-area"},Qe={class:"question-title"},be={class:"question-x-of-y"},ke={class:"button-area"},$e={props:{question:{type:Object,required:!0}},setup(e){const t=e,s=k(),u=T(),o=Q(s.getters.getNumberOfQuestions),r=Q("True"),p=Q("False"),h=Q("Choice 3"),y=Q("Choice 4"),a=()=>{const l=[];l.push(t.question.correct_answer),l.push(t.question.incorrect_answers[0]),l.push(t.question.incorrect_answers[1]),l.push(t.question.incorrect_answers[2]);const i=m(l);r.value=i[0],p.value=i[1],h.value=i[2],y.value=i[3],console.log("Coices randomized")},m=l=>{let i=l.length,g;for(;i!=0;)g=Math.floor(Math.random()*i),i--,[l[i],l[g]]=[l[g],l[i]];return l},b=l=>{s.commit("submitAnswer",{question:t.question.question,correct_answer:t.question.correct_answer,answer:l,number:t.question.number}),s.commit("hideCurrentQuestion"),D()},D=()=>{s.commit("increaseIndexOfCurrentQuestion");const l=s.getters.getIndexOfCurrentQuestion,i=s.getters.getNumberOfQuestions;l<i?s.commit("showCurrentQuestion"):u.push({name:"result"})};return B(()=>{s.commit("setNumberOfQuestions"),o.value=s.getters.getNumberOfQuestions,t.question.type==="multiple"&&a()}),(l,i)=>(c(),d(f,null,[n("div",Ce,[n("h2",Qe,_(e.question.question),1),n("p",be,"Question: "+_(e.question.number)+"/"+_(o.value),1)]),n("div",ke,[n("button",{class:"choice choice1",onClick:i[0]||(i[0]=g=>b(r.value))},_(r.value),1),n("button",{class:"choice choice2",onClick:i[1]||(i[1]=g=>b(p.value))},_(p.value),1),e.question.type==="multiple"?(c(),d("button",{key:0,class:"choice choice3",onClick:i[2]||(i[2]=g=>b(h.value))},_(h.value),1)):I("",!0),e.question.type==="multiple"?(c(),d("button",{key:1,class:"choice choice4",onClick:i[3]||(i[3]=g=>b(y.value))},_(y.value),1)):I("",!0)])],64))}};var xe=w($e,[["__scopeId","data-v-c57f5dec"]]);const Se=n("h1",null,"Question",-1),Oe={setup(e){const t=k(),s=q(()=>t.state.questions);return(u,o)=>(c(),d(f,null,[Se,(c(!0),d(f,null,$(v(s),r=>(c(),d("div",{key:r.question},[r.show_question?(c(),R(xe,{key:0,question:r},null,8,["question"])):I("",!0)]))),128))],64))}};const Ae={class:"textfield question-number"},Te={class:"textfield question"},Ie={class:"textfield user-answer"},Ee={class:"textfield answer"},Ne={props:{question:{type:Object,required:!0},answer:{type:Object,required:!0},questionIndex:{type:Number,required:!0}},setup(e){const t=e,s=q(()=>t.answer.correct_answer===t.answer.answer);return(u,o)=>(c(),d("li",{class:P(v(s)?"correct-answer":"wrong-answer")},[n("p",Ae,_(e.questionIndex+1),1),n("p",Te,_(e.question.question),1),n("p",Ie,"Your answer: "+_(e.answer.answer),1),n("p",Ee,"Correct answer: "+_(e.answer.correct_answer),1)],2))}};var Me=w(Ne,[["__scopeId","data-v-46b572c6"]]);const Re={setup(e){const t=k(),s=q(()=>t.state.questions),u=q(()=>t.state.answers);return(o,r)=>(c(),d("ol",null,[(c(!0),d(f,null,$(v(s),(p,h)=>(c(),R(Me,{key:h,questionIndex:h,question:p,answer:v(u)[h]},null,8,["questionIndex","question","answer"]))),128))]))}};var De=w(Re,[["__scopeId","data-v-be674b14"]]);const ze=e=>(O("data-v-95f571dc"),e=e(),A(),e),Fe={class:"container"},Le=ze(()=>n("h2",null,"Results",-1)),Be={class:"final-score"},Pe={setup(e){const t=k(),s=T(),u=q(()=>t.state.answers),o=q(()=>t.state.questions),r=(a,m)=>a+(m.answer===m.correct_answer?10:0),p=q(()=>u.value.reduce(r,0)),h=()=>{s.push({name:"start"})},y=()=>{s.push({name:"question"}).then(()=>t.dispatch("resetQuiz")).catch(a=>console.log("Error on playAgainClicked! Error: ",a))};return(a,m)=>(c(),d("section",Fe,[Le,n("p",Be,"Final score: "+_(v(p))+"/"+_(v(o).length*10),1),C(De),n("div",{class:"buttons"},[n("button",{onClick:h},"Home"),n("button",{onClick:y},"Play again")])]))}};var Ve=w(Pe,[["__scopeId","data-v-95f571dc"]]);const je=[{name:"start",path:"/",component:fe},{name:"question",path:"/question",component:Oe},{name:"result",path:"/result",component:Ve},{name:"not-found",path:"/:catchAll(.*)",component:we}];var Ue=V({history:j({}.VITE_BASE_PUBLIC_PATH),routes:je});const N=U({state:{questionsSelected:10,questionDifficulty:"any",questionType:"any",questionCategory:"any",apiUrlPath:"https://opentdb.com/api.php",apiSessionToken:"",questions:[],indexOfCurrentQuestion:0,numberOfQuestions:0,answers:[]},mutations:{setQuestionsSelected:(e,t)=>{e.questionsSelected=t},setQuestionDifficulty:(e,t)=>{e.questionDifficulty=t},setQuestionType:(e,t)=>{e.questionType=t},setQuestionCategory:(e,t)=>{e.questionCategory=t},setQuestions:(e,t)=>{e.questions=t},setIndexOfCurrentQuestion:(e,t)=>{e.indexOfCurrentQuestion=t},setNumberOfQuestions:e=>{e.numberOfQuestions=e.questions.length},addQuestion:(e,t)=>{e.questions.push(t)},deleteQuestion:(e,t)=>{const s=e.questions.indexOf(t);e.questions.splice(s,1)},emptyQuestions:e=>{e.questions.length=0},submitAnswer:(e,t)=>{e.answers.push(t)},deleteAnswer:(e,t)=>{const s=e.answers.indexOf(t);e.answers.splice(s,1)},emptyAnswers:e=>{e.answers.length=0},setApiSessionToken:(e,t)=>{e.apiSessionToken=t},increaseIndexOfCurrentQuestion:e=>{e.indexOfCurrentQuestion++},showCurrentQuestion:e=>{N.state.questions[e.indexOfCurrentQuestion].show_question=!0},hideCurrentQuestion:e=>{N.state.questions[e.indexOfCurrentQuestion].show_question=!1}},getters:{getQuestionsSelected:e=>e.questionsSelected,getQuestionDifficulty:e=>e.questionDifficulty,getQuestionType:e=>e.questionType,getQuestionCategory:e=>e.questionCategory,getApiUrl:e=>e.apiUrlPath+`?&amount=${e.questionsSelected}`+(e.questionCategory!=="any"?`&category=${e.questionCategory}`:"")+(e.questionDifficulty!=="any"?`&difficulty=${e.questionDifficulty}`:"")+(e.questionType!=="any"?`&type=${e.questionType}`:"")+(e.apiSessionToken.length!=0?`&token=${e.apiSessionToken}`:""),getApiSessionToken:e=>e.apiSessionToken,getNumberOfQuestions:e=>e.numberOfQuestions,getIndexOfCurrentQuestion:e=>e.indexOfCurrentQuestion},actions:{fetchApiSessionToken(e){if(e.getters.getApiSessionToken.length===0)return fetch("https://opentdb.com/api_token.php?command=request").then(t=>t.json()).then(t=>{e.commit("setApiSessionToken",t.token)}).catch(t=>console.log("Failed to fetch api session token! Error: "+t))},fetchQuestions(e){return fetch(e.getters.getApiUrl).then(t=>t.json()).then(t=>{t.results.forEach((s,u)=>{u===0?(s.show_question=!0,s.number=(u+1).toString()):(s.show_question=!1,s.number=(u+1).toString())}),e.commit("setQuestions",t.results)}).catch(t=>console.log("Failed to fetch questions! Error: "+t))},resetQuiz(e){e.commit("emptyAnswers"),e.dispatch("fetchQuestions"),e.commit("setIndexOfCurrentQuestion",0)}}});H(oe).use(N).use(Ue).mount("#app");
