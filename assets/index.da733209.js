import{r as M,o as a,c as d,a as n,b,w as O,p as A,d as T,e as $,u as k,f as I,g as q,F as f,h as S,n as j,i as v,t as _,j as R,v as V,k as B,l as F,m as E,q as w,s as z,x as G,y as H,z as K,A as J,B as Y}from"./vendor.0d3993df.js";const W=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}};W();var C=(e,t)=>{const o=e.__vccOpts||e;for(const[u,s]of t)o[u]=s;return o};const X={},Z=e=>(A("data-v-456e5dfe"),e=e(),T(),e),ee={class:"vertical-layout"},te=Z(()=>n("h1",null,"Trivia",-1)),se=$(" Temporary route links: "),ne=$("Start"),oe=$("Question"),re=$("Result"),ie={class:"middle"};function ue(e,t){const o=M("router-link"),u=M("router-view");return a(),d("div",ee,[n("header",null,[te,se,b(o,{to:"/"},{default:O(()=>[ne]),_:1}),b(o,{to:"/question"},{default:O(()=>[oe]),_:1}),b(o,{to:"/result"},{default:O(()=>[re]),_:1})]),n("main",ie,[b(u)])])}var ce=C(X,[["render",ue],["__scopeId","data-v-456e5dfe"]]);const D=e=>(A("data-v-8f833620"),e=e(),T(),e),ae={class:"root"},le=D(()=>n("h2",null,"Trivia",-1)),de=["onClick"],_e={class:"width-100"},pe=["onClick"],me=["value"],he=D(()=>n("br",null,null,-1)),fe={class:"width-100"},ye={setup(e){const t=k(),o=I(),u={any:"Any Category",9:"General Knowledge",10:"Entertainment: Books",11:"Entertainment: Film",12:"Entertainment: Music",13:"Entertainment: Musicals & Theatres",14:"Entertainment: Television",15:"Entertainment: Video Games",16:"Entertainment: Board Games",17:"Science & Nature",18:"Science: Computers",19:"Science: Mathematics",20:"Mythology",21:"Sports",22:"Geography",23:"History",24:"Politics",25:"Art",26:"Celebrities",27:"Animals",28:"Vehicles",29:"Entertainment: Comics",30:"Science: Gadgets",31:"Entertainment: Japanese Anime & Manga",32:"Entertainment: Cartoon & Animations"},s={easy:{name:"Easy",color:"green"},medium:{name:"Medium",color:"yellow"},hard:{name:"Hard",color:"red"}},r=q(t.getters.getQuestionCategory),p=q(t.getters.getUsername),h=()=>{t.commit("setUsername",p),t.commit("setQuestionCategory",r),t.dispatch("fetchApiSessionToken"),t.dispatch("resetQuiz"),o.push({name:"question"})};return(Q,m)=>(a(),d("div",ae,[le,n("div",null,[(a(),d(f,null,S(s,(c,y)=>n("button",{key:y,class:"button",style:j("background-color: "+c.color),onClick:U=>v(t).commit("setQuestionDifficulty",y)},_(c.name),13,de)),64))]),n("div",_e,[(a(),d(f,null,S([5,10,15,20,25],c=>n("button",{class:"button",key:c,onClick:y=>v(t).commit("setQuestionsSelected",c)},_(c),9,pe)),64))]),R(n("select",{class:"input","onUpdate:modelValue":m[0]||(m[0]=c=>r.value=c)},[(a(),d(f,null,S(u,(c,y)=>n("option",{key:y,value:y},_(c),9,me)),64))],512),[[V,r.value]]),he,n("div",fe,[R(n("input",{class:"input","onUpdate:modelValue":m[1]||(m[1]=c=>p.value=c),type:"text",placeholder:"Username"},null,512),[[B,p.value]]),n("button",{class:"button",type:"button",onClick:h},"Start")])]))}};var ve=C(ye,[["__scopeId","data-v-8f833620"]]);const ge=n("h1",null,"Start",-1),qe={setup(e){return(t,o)=>(a(),d(f,null,[ge,b(ve)],64))}},we={},Ce=n("h1",null,"404",-1),Qe=n("p",null,"Not found",-1);function be(e,t){return a(),d(f,null,[Ce,Qe],64)}var ke=C(we,[["render",be]]);const Se={class:"question-area"},xe={class:"question-title"},$e={class:"question-x-of-y"},Oe={class:"button-area"},Ae={props:{question:{type:Object,required:!0}},setup(e){const t=e,o="https://jorgsaa-noroff-assignment-api.herokuapp.com/trivia",u="uEzYwhrkm0OmaPQRfHSqz2OsKL8nsxK3AiqVkJkPjCv2lbiLnDyDkzOCGMm1A1gG",s=k(),r=I(),p=q(s.getters.getNumberOfQuestions),h=q("True"),Q=q("False"),m=q("Choice 3"),c=q("Choice 4"),y=()=>{const l=[];l.push(t.question.correct_answer),l.push(t.question.incorrect_answers[0]),l.push(t.question.incorrect_answers[1]),l.push(t.question.incorrect_answers[2]);const i=U(l);h.value=i[0],Q.value=i[1],m.value=i[2],c.value=i[3],console.log("Coices randomized")},U=l=>{let i=l.length,g;for(;i!=0;)g=Math.floor(Math.random()*i),i--,[l[i],l[g]]=[l[g],l[i]];return l},x=l=>{s.commit("submitAnswer",{question:t.question.question,correct_answer:t.question.correct_answer,answer:l,number:t.question.number}),s.commit("hideCurrentQuestion"),P()},L=async()=>{fetch(o,{method:"POST",headers:{"X-API-Key":u,"Content-Type":"application/json"},body:JSON.stringify({username:s.getters.getUsername,highScore:10})}).then(console.log)},P=()=>{s.commit("increaseIndexOfCurrentQuestion");const l=s.getters.getIndexOfCurrentQuestion,i=s.getters.getNumberOfQuestions;l<i?s.commit("showCurrentQuestion"):L().then(()=>r.push({name:"result"}))};return F(()=>{s.commit("setNumberOfQuestions"),p.value=s.getters.getNumberOfQuestions,t.question.type==="multiple"&&y()}),(l,i)=>(a(),d(f,null,[n("div",Se,[n("h2",xe,_(e.question.question),1),n("p",$e,"Question: "+_(e.question.number)+"/"+_(p.value),1)]),n("div",Oe,[n("button",{class:"choice choice1",onClick:i[0]||(i[0]=g=>x(h.value))},_(h.value),1),n("button",{class:"choice choice2",onClick:i[1]||(i[1]=g=>x(Q.value))},_(Q.value),1),e.question.type==="multiple"?(a(),d("button",{key:0,class:"choice choice3",onClick:i[2]||(i[2]=g=>x(m.value))},_(m.value),1)):E("",!0),e.question.type==="multiple"?(a(),d("button",{key:1,class:"choice choice4",onClick:i[3]||(i[3]=g=>x(c.value))},_(c.value),1)):E("",!0)])],64))}};var Te=C(Ae,[["__scopeId","data-v-72d5af7e"]]);const Ie=n("h1",null,"Question",-1),Ee={setup(e){const t=k(),o=w(()=>t.state.questions);return(u,s)=>(a(),d(f,null,[Ie,(a(!0),d(f,null,S(v(o),r=>(a(),d("div",{key:r.question},[r.show_question?(a(),z(Te,{key:0,question:r},null,8,["question"])):E("",!0)]))),128))],64))}};const Ne={class:"textfield question-number"},Ue={class:"textfield question"},Me={class:"textfield user-answer"},Re={class:"textfield answer"},ze={props:{question:{type:Object,required:!0},answer:{type:Object,required:!0},questionIndex:{type:Number,required:!0}},setup(e){const t=e,o=w(()=>t.answer.correct_answer===t.answer.answer);return(u,s)=>(a(),d("li",{class:G(v(o)?"correct-answer":"wrong-answer")},[n("p",Ne,_(e.questionIndex+1),1),n("p",Ue,_(e.question.question),1),n("p",Me,"Your answer: "+_(e.answer.answer),1),n("p",Re,"Correct answer: "+_(e.answer.correct_answer),1)],2))}};var De=C(ze,[["__scopeId","data-v-46b572c6"]]);const Le={setup(e){const t=k(),o=w(()=>t.state.questions),u=w(()=>t.state.answers);return(s,r)=>(a(),d("ol",null,[(a(!0),d(f,null,S(v(o),(p,h)=>(a(),z(De,{key:h,questionIndex:h,question:p,answer:v(u)[h]},null,8,["questionIndex","question","answer"]))),128))]))}};var Pe=C(Le,[["__scopeId","data-v-be674b14"]]);const je=e=>(A("data-v-95f571dc"),e=e(),T(),e),Ve={class:"container"},Be=je(()=>n("h2",null,"Results",-1)),Fe={class:"final-score"},Ge={setup(e){const t=k(),o=I(),u=w(()=>t.state.answers),s=w(()=>t.state.questions),r=(m,c)=>m+(c.answer===c.correct_answer?10:0),p=w(()=>u.value.reduce(r,0)),h=()=>{o.push({name:"start"})},Q=()=>{o.push({name:"question"}).then(()=>t.dispatch("resetQuiz")).catch(m=>console.log("Error on playAgainClicked! Error: ",m))};return(m,c)=>(a(),d("section",Ve,[Be,n("p",Fe,"Final score: "+_(v(p))+"/"+_(v(s).length*10),1),b(Pe),n("div",{class:"buttons"},[n("button",{onClick:h},"Home"),n("button",{onClick:Q},"Play again")])]))}};var He=C(Ge,[["__scopeId","data-v-95f571dc"]]);const Ke=[{name:"start",path:"/",component:qe},{name:"question",path:"/question",component:Ee},{name:"result",path:"/result",component:He},{name:"not-found",path:"/:catchAll(.*)",component:ke}];var Je=H({history:K({}.VITE_BASE_PUBLIC_PATH),routes:Ke});const N=J({state:{username:"",questionsSelected:10,questionDifficulty:"any",questionType:"any",questionCategory:"any",apiUrlPath:"https://opentdb.com/api.php",apiSessionToken:"",questions:[],indexOfCurrentQuestion:0,numberOfQuestions:0,answers:[]},mutations:{setUsername:(e,t)=>{e.username=t},setQuestionsSelected:(e,t)=>{e.questionsSelected=t},setQuestionDifficulty:(e,t)=>{e.questionDifficulty=t},setQuestionType:(e,t)=>{e.questionType=t},setQuestionCategory:(e,t)=>{e.questionCategory=t},setQuestions:(e,t)=>{e.questions=t},setIndexOfCurrentQuestion:(e,t)=>{e.indexOfCurrentQuestion=t},setNumberOfQuestions:e=>{e.numberOfQuestions=e.questions.length},addQuestion:(e,t)=>{e.questions.push(t)},deleteQuestion:(e,t)=>{const o=e.questions.indexOf(t);e.questions.splice(o,1)},emptyQuestions:e=>{e.questions.length=0},submitAnswer:(e,t)=>{e.answers.push(t)},deleteAnswer:(e,t)=>{const o=e.answers.indexOf(t);e.answers.splice(o,1)},emptyAnswers:e=>{e.answers.length=0},setApiSessionToken:(e,t)=>{e.apiSessionToken=t},increaseIndexOfCurrentQuestion:e=>{e.indexOfCurrentQuestion++},showCurrentQuestion:e=>{N.state.questions[e.indexOfCurrentQuestion].show_question=!0},hideCurrentQuestion:e=>{N.state.questions[e.indexOfCurrentQuestion].show_question=!1}},getters:{getUsername:e=>e.username,getQuestionsSelected:e=>e.questionsSelected,getQuestionDifficulty:e=>e.questionDifficulty,getQuestionType:e=>e.questionType,getQuestionCategory:e=>e.questionCategory,getApiUrl:e=>e.apiUrlPath+`?&amount=${e.questionsSelected}`+(e.questionCategory!=="any"?`&category=${e.questionCategory}`:"")+(e.questionDifficulty!=="any"?`&difficulty=${e.questionDifficulty}`:"")+(e.questionType!=="any"?`&type=${e.questionType}`:"")+(e.apiSessionToken.length!=0?`&token=${e.apiSessionToken}`:""),getApiSessionToken:e=>e.apiSessionToken,getNumberOfQuestions:e=>e.numberOfQuestions,getIndexOfCurrentQuestion:e=>e.indexOfCurrentQuestion},actions:{fetchApiSessionToken(e){if(e.getters.getApiSessionToken.length===0)return fetch("https://opentdb.com/api_token.php?command=request").then(t=>t.json()).then(t=>{e.commit("setApiSessionToken",t.token)}).catch(t=>console.log("Failed to fetch api session token! Error: "+t))},fetchQuestions(e){return fetch(e.getters.getApiUrl).then(t=>t.json()).then(t=>{t.results.forEach((o,u)=>{u===0?(o.show_question=!0,o.number=(u+1).toString()):(o.show_question=!1,o.number=(u+1).toString())}),e.commit("setQuestions",t.results)}).catch(t=>console.log("Failed to fetch questions! Error: "+t))},resetQuiz(e){e.commit("emptyAnswers"),e.dispatch("fetchQuestions"),e.commit("setIndexOfCurrentQuestion",0)}}});Y(ce).use(N).use(Je).mount("#app");
